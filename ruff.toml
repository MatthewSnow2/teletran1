# Ruff Configuration
# Agent: tdd-workflows/tdd-orchestrator
# https://docs.astral.sh/ruff/

line-length = 100
target-version = "py311"
src = ["apps", "chad_agents", "chad_tools", "chad_memory", "chad_obs", "chad_config"]

[lint]
select = [
    "E",    # pycodestyle errors
    "W",    # pycodestyle warnings
    "F",    # pyflakes
    "I",    # isort
    "C90",  # mccabe complexity
    "UP",   # pyupgrade
    "B",    # flake8-bugbear
    "S",    # flake8-bandit (security)
    "T20",  # flake8-print
    "N",    # pep8-naming
    "D",    # pydocstyle
]

ignore = [
    "E501",   # line-too-long (handled by Black)
    "B008",   # function-call-in-default-argument (FastAPI uses this pattern)
    "S101",   # assert (OK in tests)
    "T201",   # print (OK for CLI and debugging)
    "D100",   # undocumented-public-module (not all modules need docstrings)
    "D104",   # undocumented-public-package (not all __init__.py need docstrings)
    "D203",   # one-blank-line-before-class (conflicts with D211)
    "D213",   # multi-line-summary-second-line (conflicts with D212)
]

[lint.per-file-ignores]
"__init__.py" = ["F401", "D104"]  # Unused imports OK, no docstring required
"tests/*" = ["S101", "B011", "D", "T201"]  # Assert OK, no docstrings required in tests
"infra/*" = ["D"]  # No docstrings required in infrastructure scripts
"migrations/*" = ["D"]  # No docstrings in Alembic migrations
"**/conftest.py" = ["D"]  # No docstrings in pytest conftest

[lint.mccabe]
max-complexity = 10

[lint.pydocstyle]
convention = "google"  # Use Google-style docstrings

[format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false
line-ending = "auto"

# ============================================================================
# AGENT SIGN-OFF
# ============================================================================
# âœ… tdd-workflows/tdd-orchestrator
